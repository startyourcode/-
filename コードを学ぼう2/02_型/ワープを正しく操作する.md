# ワープを正しく操作する

2組あるワープのオンとオフを切り替えて、4つの宝石を集める。

![ステージ画像](./Images/ワープを正しく操作する.png)

## 考え方と手順

## 全体のコード

```swift
var gemCounter = 0

func turnAround() {
    turnLeft()
    turnLeft()    
}

func collectAndCountGem() {
    collectGem()
    gemCounter += 1
}

func togglePortals() {
    if bluePortal.isActive {
        bluePortal.isActive = false
        pinkPortal.isActive = true
    } else {
        bluePortal.isActive = true
        pinkPortal.isActive = false
    }
}

pinkPortal.isActive = false
while gemCounter < 4 {
    moveForward()
    if isOnGem { 
        collectAndCountGem() 
    }
    if isBlocked {
        turnAround()
        togglePortals()        
    }
}
```